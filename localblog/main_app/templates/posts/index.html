{% extends 'base.html' %}
{% load static %}
{% load custom_filters %}
{% block head %}
<link rel="stylesheet" href="{% static 'css/posts/post-index.css' %}" />
{% endblock %}
{% block content %}

<section class="page-header">
    <h1>All Blog Posts</h1>
</section>

<div class="post-columns">
    <section class="user-posts">
        <h2>Your Posts</h2>
        <div class="card-container">
            {% for post in user_posts %}
            <div class="card">
                <a href="{% url 'post-detail' post.id %}">
                    <div class="card-content">
                        <div class="card-img-container">
                            <img src="{% static 'images/foods.jpeg' %}" alt="foods" />
                        </div>
                        <h1 class="card-title">{{ post.title }}</h1>
                        <p>Written by {{ post.author }}</p>
                        <p>On {{ post.created_at }}</p>
                        <p>{{ post.description|truncate_words:20 }}</p>
                    </div>
                </a>
            </div>
            {% endfor %}
        </div>
    </section>

    <section class="other-posts">
        <h2>Browse other posts</h2>
        <div class="card-container">
            {% for post in other_posts %}
            <div class="card">
                <a href="{% url 'post-detail' post.id %}">
                    <div class="card-content">
                        <div class="card-img-container">
                            <img src="{% static 'images/foods.jpeg' %}" alt="foods" />
                        </div>
                        <h1 class="card-title">{{ post.title }}</h1>
                        <p>Written by {{ post.author }}</p>
                        <p>On {{ post.created_at }}</p>
                        <p>{{ post.description|truncate_words:20 }}</p>
                    </div>
                </a>
            </div>
            {% endfor %}
        </div>
    </section>
</div>

{% endblock %}